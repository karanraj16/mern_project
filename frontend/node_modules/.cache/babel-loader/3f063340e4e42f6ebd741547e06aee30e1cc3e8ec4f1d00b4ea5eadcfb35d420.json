{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\karan\\\\OneDrive\\\\Desktop\\\\reactcourse\\\\project2\\\\frontend\\\\src\\\\components\\\\TaskCard.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport API from \"../utils/api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TaskCard = ({\n  task,\n  onTaskUpdated,\n  onTaskDeleted\n}) => {\n  _s();\n  const [isEditing, setIsEditing] = useState(false);\n  const [newTitle, setNewTitle] = useState(task.title);\n  const [isCompleted, setIsCompleted] = useState(task.completed || false);\n\n  // ✅ Update Task (title or completed)\n  const handleUpdateTask = async (updates = {}) => {\n    try {\n      const taskId = task._id || task.id;\n      if (!taskId) throw new Error(\"Invalid task ID\");\n      const res = await API.put(`/tasks/${taskId}`, updates);\n      const updatedTask = res.data;\n      setNewTitle(updatedTask.title);\n      setIsCompleted(updatedTask.completed);\n      setIsEditing(false);\n      onTaskUpdated(updatedTask);\n    } catch (err) {\n      var _err$response, _err$response$data;\n      console.error(\"Error updating task:\", err);\n      alert(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || \"Failed to update task\");\n    }\n  };\n\n  // ✅ Delete Task\n  const handleDeleteTask = async () => {\n    try {\n      const taskId = task._id || task.id;\n      if (!taskId) throw new Error(\"Invalid task ID\");\n      await API.delete(`/tasks/${taskId}`);\n      onTaskDeleted(taskId);\n    } catch (err) {\n      var _err$response2, _err$response2$data;\n      console.error(\"Error deleting task:\", err);\n      alert(((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.message) || \"Failed to delete task\");\n    }\n  };\n\n  // ✅ Toggle Complete\n  const handleToggleComplete = () => {\n    handleUpdateTask({\n      completed: !isCompleted\n    });\n  };\n\n  // ✅ Save edited title\n  const handleSaveEdit = () => {\n    if (newTitle.trim() === \"\") {\n      alert(\"Task title cannot be empty\");\n      return;\n    }\n    handleUpdateTask({\n      title: newTitle\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `flex items-center justify-between bg-gray-50 border rounded-lg px-3 py-2 hover:shadow transition ${isCompleted ? \"opacity-70\" : \"\"}`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center gap-2 flex-1\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"checkbox\",\n        checked: isCompleted,\n        onChange: handleToggleComplete,\n        className: \"w-4 h-4 cursor-pointer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), isEditing ? /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: newTitle,\n        onChange: e => setNewTitle(e.target.value),\n        onBlur: handleSaveEdit,\n        onKeyDown: e => e.key === \"Enter\" && handleSaveEdit(),\n        autoFocus: true,\n        className: \"border-b border-gray-400 bg-transparent flex-1 text-sm outline-none\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n        onDoubleClick: () => setIsEditing(true),\n        className: `flex-1 text-sm cursor-pointer ${isCompleted ? \"line-through text-gray-400\" : \"\"}`,\n        children: newTitle\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleDeleteTask,\n      className: \"text-red-500 hover:text-red-700 text-xs font-medium\",\n      children: \"Delete\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n};\n_s(TaskCard, \"jFDAhFpaPkmkUqYtZuxoiVMnm28=\");\n_c = TaskCard;\nexport default TaskCard;\nvar _c;\n$RefreshReg$(_c, \"TaskCard\");","map":{"version":3,"names":["React","useState","API","jsxDEV","_jsxDEV","TaskCard","task","onTaskUpdated","onTaskDeleted","_s","isEditing","setIsEditing","newTitle","setNewTitle","title","isCompleted","setIsCompleted","completed","handleUpdateTask","updates","taskId","_id","id","Error","res","put","updatedTask","data","err","_err$response","_err$response$data","console","error","alert","response","message","handleDeleteTask","delete","_err$response2","_err$response2$data","handleToggleComplete","handleSaveEdit","trim","className","children","type","checked","onChange","fileName","_jsxFileName","lineNumber","columnNumber","value","e","target","onBlur","onKeyDown","key","autoFocus","onDoubleClick","onClick","_c","$RefreshReg$"],"sources":["C:/Users/karan/OneDrive/Desktop/reactcourse/project2/frontend/src/components/TaskCard.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport API from \"../utils/api\";\r\n\r\nconst TaskCard = ({ task, onTaskUpdated, onTaskDeleted }) => {\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [newTitle, setNewTitle] = useState(task.title);\r\n  const [isCompleted, setIsCompleted] = useState(task.completed || false);\r\n\r\n  // ✅ Update Task (title or completed)\r\n  const handleUpdateTask = async (updates = {}) => {\r\n    try {\r\n      const taskId = task._id || task.id;\r\n      if (!taskId) throw new Error(\"Invalid task ID\");\r\n\r\n      const res = await API.put(`/tasks/${taskId}`, updates);\r\n      const updatedTask = res.data;\r\n\r\n      setNewTitle(updatedTask.title);\r\n      setIsCompleted(updatedTask.completed);\r\n      setIsEditing(false);\r\n\r\n      onTaskUpdated(updatedTask);\r\n    } catch (err) {\r\n      console.error(\"Error updating task:\", err);\r\n      alert(err.response?.data?.message || \"Failed to update task\");\r\n    }\r\n  };\r\n\r\n  // ✅ Delete Task\r\n  const handleDeleteTask = async () => {\r\n    try {\r\n      const taskId = task._id || task.id;\r\n      if (!taskId) throw new Error(\"Invalid task ID\");\r\n\r\n      await API.delete(`/tasks/${taskId}`);\r\n      onTaskDeleted(taskId);\r\n    } catch (err) {\r\n      console.error(\"Error deleting task:\", err);\r\n      alert(err.response?.data?.message || \"Failed to delete task\");\r\n    }\r\n  };\r\n\r\n  // ✅ Toggle Complete\r\n  const handleToggleComplete = () => {\r\n    handleUpdateTask({ completed: !isCompleted });\r\n  };\r\n\r\n  // ✅ Save edited title\r\n  const handleSaveEdit = () => {\r\n    if (newTitle.trim() === \"\") {\r\n      alert(\"Task title cannot be empty\");\r\n      return;\r\n    }\r\n    handleUpdateTask({ title: newTitle });\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={`flex items-center justify-between bg-gray-50 border rounded-lg px-3 py-2 hover:shadow transition ${\r\n        isCompleted ? \"opacity-70\" : \"\"\r\n      }`}\r\n    >\r\n      <div className=\"flex items-center gap-2 flex-1\">\r\n        <input\r\n          type=\"checkbox\"\r\n          checked={isCompleted}\r\n          onChange={handleToggleComplete}\r\n          className=\"w-4 h-4 cursor-pointer\"\r\n        />\r\n        {isEditing ? (\r\n          <input\r\n            type=\"text\"\r\n            value={newTitle}\r\n            onChange={(e) => setNewTitle(e.target.value)}\r\n            onBlur={handleSaveEdit}\r\n            onKeyDown={(e) => e.key === \"Enter\" && handleSaveEdit()}\r\n            autoFocus\r\n            className=\"border-b border-gray-400 bg-transparent flex-1 text-sm outline-none\"\r\n          />\r\n        ) : (\r\n          <span\r\n            onDoubleClick={() => setIsEditing(true)}\r\n            className={`flex-1 text-sm cursor-pointer ${\r\n              isCompleted ? \"line-through text-gray-400\" : \"\"\r\n            }`}\r\n          >\r\n            {newTitle}\r\n          </span>\r\n        )}\r\n      </div>\r\n\r\n      <button\r\n        onClick={handleDeleteTask}\r\n        className=\"text-red-500 hover:text-red-700 text-xs font-medium\"\r\n      >\r\n        Delete\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TaskCard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
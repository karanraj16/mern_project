{"ast":null,"code":"import React,{useState}from\"react\";import API from\"../utils/api\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TaskCard=_ref=>{let{task,onTaskUpdated,onTaskDeleted}=_ref;const[isEditing,setIsEditing]=useState(false);const[newTitle,setNewTitle]=useState(task.title);const[isCompleted,setIsCompleted]=useState(task.completed||false);// ✅ Update Task (title or completed)\nconst handleUpdateTask=async function(){let updates=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};try{const taskId=task._id||task.id;if(!taskId)throw new Error(\"Invalid task ID\");const res=await API.put(\"/tasks/\".concat(taskId),updates);const updatedTask=res.data;setNewTitle(updatedTask.title);setIsCompleted(updatedTask.completed);setIsEditing(false);onTaskUpdated(updatedTask);}catch(err){var _err$response,_err$response$data;console.error(\"Error updating task:\",err);alert(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||\"Failed to update task\");}};// ✅ Delete Task\nconst handleDeleteTask=async()=>{try{const taskId=task._id||task.id;if(!taskId)throw new Error(\"Invalid task ID\");await API.delete(\"/tasks/\".concat(taskId));onTaskDeleted(taskId);}catch(err){var _err$response2,_err$response2$data;console.error(\"Error deleting task:\",err);alert(((_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.message)||\"Failed to delete task\");}};// ✅ Toggle Complete\nconst handleToggleComplete=()=>{handleUpdateTask({completed:!isCompleted});};// ✅ Save edited title\nconst handleSaveEdit=()=>{if(newTitle.trim()===\"\"){alert(\"Task title cannot be empty\");return;}handleUpdateTask({title:newTitle});};return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between bg-gray-50 border rounded-lg px-3 py-2 hover:shadow transition \".concat(isCompleted?\"opacity-70\":\"\"),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 flex-1\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:isCompleted,onChange:handleToggleComplete,className:\"w-4 h-4 cursor-pointer\"}),isEditing?/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newTitle,onChange:e=>setNewTitle(e.target.value),onBlur:handleSaveEdit,onKeyDown:e=>e.key===\"Enter\"&&handleSaveEdit(),autoFocus:true,className:\"border-b border-gray-400 bg-transparent flex-1 text-sm outline-none\"}):/*#__PURE__*/_jsx(\"span\",{onDoubleClick:()=>setIsEditing(true),className:\"flex-1 text-sm cursor-pointer \".concat(isCompleted?\"line-through text-gray-400\":\"\"),children:newTitle})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleDeleteTask,className:\"text-red-500 hover:text-red-700 text-xs font-medium\",children:\"Delete\"})]});};export default TaskCard;","map":{"version":3,"names":["React","useState","API","jsx","_jsx","jsxs","_jsxs","TaskCard","_ref","task","onTaskUpdated","onTaskDeleted","isEditing","setIsEditing","newTitle","setNewTitle","title","isCompleted","setIsCompleted","completed","handleUpdateTask","updates","arguments","length","undefined","taskId","_id","id","Error","res","put","concat","updatedTask","data","err","_err$response","_err$response$data","console","error","alert","response","message","handleDeleteTask","delete","_err$response2","_err$response2$data","handleToggleComplete","handleSaveEdit","trim","className","children","type","checked","onChange","value","e","target","onBlur","onKeyDown","key","autoFocus","onDoubleClick","onClick"],"sources":["C:/Users/karan/OneDrive/Desktop/reactcourse/project2/frontend/src/components/TaskCard.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport API from \"../utils/api\";\r\n\r\nconst TaskCard = ({ task, onTaskUpdated, onTaskDeleted }) => {\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [newTitle, setNewTitle] = useState(task.title);\r\n  const [isCompleted, setIsCompleted] = useState(task.completed || false);\r\n\r\n  // ✅ Update Task (title or completed)\r\n  const handleUpdateTask = async (updates = {}) => {\r\n    try {\r\n      const taskId = task._id || task.id;\r\n      if (!taskId) throw new Error(\"Invalid task ID\");\r\n\r\n      const res = await API.put(`/tasks/${taskId}`, updates);\r\n      const updatedTask = res.data;\r\n\r\n      setNewTitle(updatedTask.title);\r\n      setIsCompleted(updatedTask.completed);\r\n      setIsEditing(false);\r\n\r\n      onTaskUpdated(updatedTask);\r\n    } catch (err) {\r\n      console.error(\"Error updating task:\", err);\r\n      alert(err.response?.data?.message || \"Failed to update task\");\r\n    }\r\n  };\r\n\r\n  // ✅ Delete Task\r\n  const handleDeleteTask = async () => {\r\n    try {\r\n      const taskId = task._id || task.id;\r\n      if (!taskId) throw new Error(\"Invalid task ID\");\r\n\r\n      await API.delete(`/tasks/${taskId}`);\r\n      onTaskDeleted(taskId);\r\n    } catch (err) {\r\n      console.error(\"Error deleting task:\", err);\r\n      alert(err.response?.data?.message || \"Failed to delete task\");\r\n    }\r\n  };\r\n\r\n  // ✅ Toggle Complete\r\n  const handleToggleComplete = () => {\r\n    handleUpdateTask({ completed: !isCompleted });\r\n  };\r\n\r\n  // ✅ Save edited title\r\n  const handleSaveEdit = () => {\r\n    if (newTitle.trim() === \"\") {\r\n      alert(\"Task title cannot be empty\");\r\n      return;\r\n    }\r\n    handleUpdateTask({ title: newTitle });\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={`flex items-center justify-between bg-gray-50 border rounded-lg px-3 py-2 hover:shadow transition ${\r\n        isCompleted ? \"opacity-70\" : \"\"\r\n      }`}\r\n    >\r\n      <div className=\"flex items-center gap-2 flex-1\">\r\n        <input\r\n          type=\"checkbox\"\r\n          checked={isCompleted}\r\n          onChange={handleToggleComplete}\r\n          className=\"w-4 h-4 cursor-pointer\"\r\n        />\r\n        {isEditing ? (\r\n          <input\r\n            type=\"text\"\r\n            value={newTitle}\r\n            onChange={(e) => setNewTitle(e.target.value)}\r\n            onBlur={handleSaveEdit}\r\n            onKeyDown={(e) => e.key === \"Enter\" && handleSaveEdit()}\r\n            autoFocus\r\n            className=\"border-b border-gray-400 bg-transparent flex-1 text-sm outline-none\"\r\n          />\r\n        ) : (\r\n          <span\r\n            onDoubleClick={() => setIsEditing(true)}\r\n            className={`flex-1 text-sm cursor-pointer ${\r\n              isCompleted ? \"line-through text-gray-400\" : \"\"\r\n            }`}\r\n          >\r\n            {newTitle}\r\n          </span>\r\n        )}\r\n      </div>\r\n\r\n      <button\r\n        onClick={handleDeleteTask}\r\n        className=\"text-red-500 hover:text-red-700 text-xs font-medium\"\r\n      >\r\n        Delete\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TaskCard;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,GAAG,KAAM,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE/B,KAAM,CAAAC,QAAQ,CAAGC,IAAA,EAA4C,IAA3C,CAAEC,IAAI,CAAEC,aAAa,CAAEC,aAAc,CAAC,CAAAH,IAAA,CACtD,KAAM,CAACI,SAAS,CAAEC,YAAY,CAAC,CAAGZ,QAAQ,CAAC,KAAK,CAAC,CACjD,KAAM,CAACa,QAAQ,CAAEC,WAAW,CAAC,CAAGd,QAAQ,CAACQ,IAAI,CAACO,KAAK,CAAC,CACpD,KAAM,CAACC,WAAW,CAAEC,cAAc,CAAC,CAAGjB,QAAQ,CAACQ,IAAI,CAACU,SAAS,EAAI,KAAK,CAAC,CAEvE;AACA,KAAM,CAAAC,gBAAgB,CAAG,cAAAA,CAAA,CAAwB,IAAjB,CAAAC,OAAO,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,CAAC,CAAC,CAC1C,GAAI,CACF,KAAM,CAAAG,MAAM,CAAGhB,IAAI,CAACiB,GAAG,EAAIjB,IAAI,CAACkB,EAAE,CAClC,GAAI,CAACF,MAAM,CAAE,KAAM,IAAI,CAAAG,KAAK,CAAC,iBAAiB,CAAC,CAE/C,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAA3B,GAAG,CAAC4B,GAAG,WAAAC,MAAA,CAAWN,MAAM,EAAIJ,OAAO,CAAC,CACtD,KAAM,CAAAW,WAAW,CAAGH,GAAG,CAACI,IAAI,CAE5BlB,WAAW,CAACiB,WAAW,CAAChB,KAAK,CAAC,CAC9BE,cAAc,CAACc,WAAW,CAACb,SAAS,CAAC,CACrCN,YAAY,CAAC,KAAK,CAAC,CAEnBH,aAAa,CAACsB,WAAW,CAAC,CAC5B,CAAE,MAAOE,GAAG,CAAE,KAAAC,aAAA,CAAAC,kBAAA,CACZC,OAAO,CAACC,KAAK,CAAC,sBAAsB,CAAEJ,GAAG,CAAC,CAC1CK,KAAK,CAAC,EAAAJ,aAAA,CAAAD,GAAG,CAACM,QAAQ,UAAAL,aAAA,kBAAAC,kBAAA,CAAZD,aAAA,CAAcF,IAAI,UAAAG,kBAAA,iBAAlBA,kBAAA,CAAoBK,OAAO,GAAI,uBAAuB,CAAC,CAC/D,CACF,CAAC,CAED;AACA,KAAM,CAAAC,gBAAgB,CAAG,KAAAA,CAAA,GAAY,CACnC,GAAI,CACF,KAAM,CAAAjB,MAAM,CAAGhB,IAAI,CAACiB,GAAG,EAAIjB,IAAI,CAACkB,EAAE,CAClC,GAAI,CAACF,MAAM,CAAE,KAAM,IAAI,CAAAG,KAAK,CAAC,iBAAiB,CAAC,CAE/C,KAAM,CAAA1B,GAAG,CAACyC,MAAM,WAAAZ,MAAA,CAAWN,MAAM,CAAE,CAAC,CACpCd,aAAa,CAACc,MAAM,CAAC,CACvB,CAAE,MAAOS,GAAG,CAAE,KAAAU,cAAA,CAAAC,mBAAA,CACZR,OAAO,CAACC,KAAK,CAAC,sBAAsB,CAAEJ,GAAG,CAAC,CAC1CK,KAAK,CAAC,EAAAK,cAAA,CAAAV,GAAG,CAACM,QAAQ,UAAAI,cAAA,kBAAAC,mBAAA,CAAZD,cAAA,CAAcX,IAAI,UAAAY,mBAAA,iBAAlBA,mBAAA,CAAoBJ,OAAO,GAAI,uBAAuB,CAAC,CAC/D,CACF,CAAC,CAED;AACA,KAAM,CAAAK,oBAAoB,CAAGA,CAAA,GAAM,CACjC1B,gBAAgB,CAAC,CAAED,SAAS,CAAE,CAACF,WAAY,CAAC,CAAC,CAC/C,CAAC,CAED;AACA,KAAM,CAAA8B,cAAc,CAAGA,CAAA,GAAM,CAC3B,GAAIjC,QAAQ,CAACkC,IAAI,CAAC,CAAC,GAAK,EAAE,CAAE,CAC1BT,KAAK,CAAC,4BAA4B,CAAC,CACnC,OACF,CACAnB,gBAAgB,CAAC,CAAEJ,KAAK,CAAEF,QAAS,CAAC,CAAC,CACvC,CAAC,CAED,mBACER,KAAA,QACE2C,SAAS,qGAAAlB,MAAA,CACPd,WAAW,CAAG,YAAY,CAAG,EAAE,CAC9B,CAAAiC,QAAA,eAEH5C,KAAA,QAAK2C,SAAS,CAAC,gCAAgC,CAAAC,QAAA,eAC7C9C,IAAA,UACE+C,IAAI,CAAC,UAAU,CACfC,OAAO,CAAEnC,WAAY,CACrBoC,QAAQ,CAAEP,oBAAqB,CAC/BG,SAAS,CAAC,wBAAwB,CACnC,CAAC,CACDrC,SAAS,cACRR,IAAA,UACE+C,IAAI,CAAC,MAAM,CACXG,KAAK,CAAExC,QAAS,CAChBuC,QAAQ,CAAGE,CAAC,EAAKxC,WAAW,CAACwC,CAAC,CAACC,MAAM,CAACF,KAAK,CAAE,CAC7CG,MAAM,CAAEV,cAAe,CACvBW,SAAS,CAAGH,CAAC,EAAKA,CAAC,CAACI,GAAG,GAAK,OAAO,EAAIZ,cAAc,CAAC,CAAE,CACxDa,SAAS,MACTX,SAAS,CAAC,qEAAqE,CAChF,CAAC,cAEF7C,IAAA,SACEyD,aAAa,CAAEA,CAAA,GAAMhD,YAAY,CAAC,IAAI,CAAE,CACxCoC,SAAS,kCAAAlB,MAAA,CACPd,WAAW,CAAG,4BAA4B,CAAG,EAAE,CAC9C,CAAAiC,QAAA,CAEFpC,QAAQ,CACL,CACP,EACE,CAAC,cAENV,IAAA,WACE0D,OAAO,CAAEpB,gBAAiB,CAC1BO,SAAS,CAAC,qDAAqD,CAAAC,QAAA,CAChE,QAED,CAAQ,CAAC,EACN,CAAC,CAEV,CAAC,CAED,cAAe,CAAA3C,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}